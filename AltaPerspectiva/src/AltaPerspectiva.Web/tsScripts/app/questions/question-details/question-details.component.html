<!-- =========Questions========== -->
<h1>&iquest;{{question.title}}?</h1>
<!--<div class="header-info">{{date.getMonthName(question.date.getMonth())}} {{question.date.getFullYear()}}</div>-->
<button class="btn btn-default" data-toggle="modal" data-target="#myModal">Answer</button>

<!-- ===================== -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <form #answerVM="ngForm" class="form-horizontal" role="form">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>                    
                    <div [hidden]="answerField.valid || answerField.pristine"
                         class="alert alert-danger">
                        Please type your answer and then submit!!
                    </div>
                </div>
                <div class="modal-body">
                    <ckeditor [(ngModel)]="answerText" [ngModelOptions]="{standalone: true}" id="answer"
                              required name="answerField" #answerField="ngModel"
                              [config]="{   filebrowserUploadUrl : '/browser/browse/type/all',
                                           filebrowserImageUploadUrl : '/browser/browse/type/image',
                              removeButtons : 'Outdent,Indent,About,SpecialChar,Styles,Format,Source,NumberedList,BulletedList,Scayt,Blockquote,Anchor,Table'}"
                              debounce="500">
                    </ckeditor>
                </div>
                <div class="modal-footer">
                    <button type="button" (click)="submitAnswer(question.id)" data-dismiss="modal" class="btn btn-primary">Save changes</button>
                    <button type="button" data-dismiss="modal" class="btn btn-secondary">Cancel</button>                    
                </div>
            </div>
        </form>
    </div>
</div>
<!-- =============== -->

<h3>{{question.answers?.length}} Answers</h3>
<div class="row">
    <div class="left-border">
        <img class="image-border" src="../../../../images/border.png" />
    </div>
    <div class="article-details">
        <img class="user-image" src="../../../../images/avatar.png" />
        <!--<div class="header-info">{{question?.user?.name}},{{question?.user?.occupassion}}</div>-->
        <!--<div class="header-info">{{date.getMonthName(question.date?.getMonth())}} {{question.date?.getFullYear()}}</div>-->
        <p class="answer-text">{{question.body}}</p>
        <div class="status-panel">
            <hr />
            <img class="like-logo" src="../images/fade-logo.png" />
            <div class="status-line">{{question.likeCount}}</div>
            <div class="status-line">Like</div>
            <div class="status-line like-border"></div>
            <div class="status-line">{{question.commentCount}}</div>
            <div class="status-line">Leidos</div>
            <a data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                {{question.comments?.length}} comments
            </a>
            <!-- social media icon -->
            <div class="social-icon">
                <img class="social-image" src="../images/facebooklogo.jpg" />
                <img class="social-image" src="../images/twitter.png" />
                <img class="social-image" src="../images/icon-external-link.png" />
            </div>
        </div>
        <!-- ======Question Comment==== -->
        <div class="collapse comment-panel" id="collapseExample">
            <div class="comment-input">
                <img class="user-image comment-img" src="../../../../images/avatar.png" />
                <input class="form-control" />
                <button class="btn btn-info">comment</button>
            </div>
            <div class="card card-block">
                <div *ngFor="let comment of question.comments">
                    <div class="row">
                        <div class="article-details" *ngIf="comment">
                            <img class="user-image comment-img" src="../../../../images/avatar.png" />
                            <div class="header-info">{{comment.user.name}},{{date.getMonthName(comment.time.getMonth())}} {{comment.time.getDate()}} {{comment.time.getFullYear()}}</div>
                            <p class="answer-text">{{comment.commentText}}</p>
                        </div>
                    </div>
                    <hr />
                </div>
            </div>
        </div>
    </div>
</div>
<hr />
<!-- =========Answers============== -->
<div *ngFor="let answer of question.answers">
    <div class="row">
        <div class="left-border">
            <img class="image-border" src="../../../../images/border.png" />
        </div>
        <div class="article-details" *ngIf="answer">
            <img class="user-image " src="../../../../images/avatar.png" />
            <div class="header-info">{{answer.user?.name}},{{answer.user?.occupassion}}</div>
            <!--<div class="header-info">{{answer.topics}},{{date.getMonthName(answer.date?.getMonth())}} {{answer.date?.getDate()}} {{answer.date?.getFullYear()}}</div>-->
            <p class="answer-text">{{answer.answerText}}</p>
            <div class="status-panel">
                <hr />
                <img class="like-logo" src="../images/fade-logo.png" />
                <div class="status-line">{{answer.likeCount}}</div>
                <div class="status-line">Like</div>
                <div class="status-line like-border"></div>
                <div class="status-line">{{answer.commentCount}}</div>
                <div class="status-line">Leidos</div>
                <a data-toggle="collapse" attr.data-target="#answerComment{{answer.id}}" aria-expanded="false" aria-controls="collapseExample">
                    3 comments
                </a>
                <!-- social media icon -->
                <div class="social-icon">
                    <img class="social-image" src="../images/facebooklogo.jpg" />
                    <img class="social-image" src="../images/twitter.png" />
                    <img class="social-image" src="../images/icon-external-link.png" />

                </div>
            </div>
            <!-- ======Answer Comment==== -->
            <div class="collapse comment-panel" id="answerComment{{answer.id}}">
                <div class="comment-input">
                    <img class="user-image comment-img" src="../../../../images/avatar.png" />
                    <input class="form-control" />
                    <button class="btn btn-info">comment</button>
                </div>
                <div class="card card-block">
                    <div *ngFor="let comment of answer.comments">
                        <div class="row">
                            <div class="article-details" *ngIf="comment">
                                <img class="user-image comment-img" src="../../../../images/avatar.png" />
                                <!--<div class="header-info">{{comment?.user?.name}},{{date.getMonthName(comment?.time?.getMonth())}} {{comment?.time?.getDate()}} {{comment?.time?.getFullYear()}}</div>-->
                                <p class="answer-text">{{comment?.commentText}}</p>
                            </div>

                        </div>
                        <hr />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr />
</div>
